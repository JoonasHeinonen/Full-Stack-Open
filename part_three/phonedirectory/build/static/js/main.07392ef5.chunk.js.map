{"version":3,"sources":["components/Contact.js","components/AllContacts.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Contact","props","name","number","onClick","deleteEntity","AllContacts","persons","filter","person","toLowerCase","includes","map","id","Filter","value","onChange","onChangeHandler","PersonForm","onSubmit","addPerson","nameHandler","numberHandler","type","Notification","notification","className","Error","error","baseUrl","axios","get","then","response","data","newPerson","post","put","object","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setNotification","setError","useEffect","personsService","initialPersons","console","log","length","e","target","preventDefault","personObject","some","window","confirm","alert","concat","setTimeout","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.07392ef5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Contact = (props) => {\r\n    return (\r\n        <div>\r\n            <p>{props.name} {props.number}</p>\r\n            <button onClick={props.deleteEntity}>delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Contact;","import React from 'react'\r\nimport Contact from './Contact';\r\n\r\nconst AllContacts = (props) => {\r\n    return (\r\n        <div>\r\n            {props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase())).map(person => (\r\n                <Contact key={person.name} name={person.name} number={person.number} deleteEntity={() => props.deleteEntity(person.name, person.id)} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AllContacts;","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            Filter with \r\n            <input \r\n                value={props.filter} \r\n                onChange={props.onChangeHandler} \r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.addPerson}>\r\n                <div>\r\n                    name: \r\n                    <input \r\n                        value={props.name} \r\n                        onChange={props.nameHandler}\r\n                    /><br/>\r\n                    number: \r\n                    <input \r\n                        value={props.number} \r\n                        onChange={props.numberHandler}\r\n                    /><br/>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n      return null;\r\n  }\r\n  \r\n  return (\r\n    <div className='notification'>\r\n      { notification }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\n\r\nconst Error = ({ error }) => {\r\n  if (error === null) {\r\n      return null;\r\n  }\r\n  \r\n  return (\r\n    <div className='error'>\r\n      { error }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error;","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios\r\n        .post(baseUrl, newPerson);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios\r\n        .put(`${baseUrl}/${id}`, newPerson);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst remove = (id, object) => {\r\n    const request = axios\r\n        .delete(`${baseUrl}/${id}`, object);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, update, remove };","import React, { useState, useEffect } from 'react'\nimport AllContacts from './components/AllContacts';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\nimport Error from './components/Error';\n\nimport personsService from './services/persons';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  const [ notification, setNotification] = useState(null);\n  const [ error, setError] = useState(null);\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addPerson = (e, id) => {\n    e.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n\n    if (persons.some((person) => person.name === personObject.name)) {\n      if (window.confirm(`${newName} is already added to phonebook! Would you like to change update the phonenumber?`)) {\n        personsService\n          .update(personObject.id, personObject)\n            .then(() => {\n              alert('Gone here!');\n            });\n      } else {\n        alert(`${newName} `)\n      }\n    } else {\n      personsService\n        .create(personObject)\n          .then(person => {\n            setPersons(persons.concat(person));\n            setNewName('');\n            setNewNumber('');\n          });\n      setNotification(\n        `${newName} added to the phonedirectory successfully!`\n      )\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  }\n\n  const deleteEntity = (name, id) => {\n    if (window.confirm(`Do you want to delete ${name} from the phone directory?`)) {\n      personsService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          alert(`Deleted ${name} successfully from the phone directory!`);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          setError(\n            `Problems deleting the ${name} from the records.`\n          )\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        });\n    }\n  }\n\n  const handleNameChange = (e) =>{\n    setNewName(e.target.value);\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  }\n\n  const handleFilter = (e) => {\n    console.log(filter);\n    setFilter(e.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Error error={error} />\n      <Filter filter={filter} onChangeHandler={handleFilter} />\n      <h2>Add a new</h2>\n      <PersonForm \n        addPerson={addPerson}\n        name={newName}\n        number={newNumber}\n        nameHandler={handleNameChange}\n        numberHandler={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <AllContacts \n        persons={persons} \n        filter={filter} \n        deleteEntity={deleteEntity}\n      />\n      </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './main.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}
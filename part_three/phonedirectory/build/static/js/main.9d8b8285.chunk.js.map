{"version":3,"sources":["components/Contact.js","components/AllContacts.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Contact","props","name","number","onClick","deleteEntity","AllContacts","persons","filter","person","toLowerCase","includes","map","id","Filter","value","onChange","onChangeHandler","PersonForm","onSubmit","addPerson","nameHandler","numberHandler","type","Notification","notification","className","Error","error","baseUrl","axios","get","then","response","data","newPerson","post","put","object","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setNotification","setError","useEffect","personsService","initialPersons","console","log","length","e","target","preventDefault","personObject","some","window","confirm","alert","concat","setTimeout","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d8b8285.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Contact = (props) => {\r\n    return (\r\n        <div>\r\n            <p>{props.name} {props.number}</p>\r\n            <button onClick={props.deleteEntity}>delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Contact;","import React from 'react'\r\nimport Contact from './Contact';\r\n\r\nconst AllContacts = (props) => {\r\n    return (\r\n        <div>\r\n            {props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase())).map(person => (\r\n                <Contact key={person.name} name={person.name} number={person.number} deleteEntity={() => props.deleteEntity(person.name, person.id)} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AllContacts;","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n            Filter with \r\n            <input \r\n                value={props.filter} \r\n                onChange={props.onChangeHandler} \r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.addPerson}>\r\n                <div>\r\n                    name: \r\n                    <input \r\n                        value={props.name} \r\n                        onChange={props.nameHandler}\r\n                    /><br/>\r\n                    number: \r\n                    <input \r\n                        value={props.number} \r\n                        onChange={props.numberHandler}\r\n                    /><br/>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n      return null;\r\n  }\r\n  \r\n  return (\r\n    <div className='notification'>\r\n      { notification }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\n\r\nconst Error = ({ error }) => {\r\n  if (error === null) {\r\n      return null;\r\n  }\r\n  \r\n  return (\r\n    <div className='error'>\r\n      { error }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error;","import axios from 'axios';\r\nconst baseUrl = 'http://127.0.0.1:3001/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios\r\n        .post(baseUrl, newPerson);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios\r\n        .put(`${baseUrl}/${id}`, newPerson);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nconst remove = (id, object) => {\r\n    const request = axios\r\n        .delete(`${baseUrl}/${id}`, object);\r\n    return request\r\n        .then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, update, remove };","import React, { useState, useEffect } from 'react'\r\nimport AllContacts from './components/AllContacts';\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Notification from './components/Notification';\r\nimport Error from './components/Error';\r\n\r\nimport personsService from './services/persons';\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]);\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ filter, setFilter ] = useState('');\r\n  const [ notification, setNotification] = useState(null);\r\n  const [ error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const addPerson = (e, id) => {\r\n    e.preventDefault();\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: persons.length + 1,\r\n    }\r\n\r\n    if (persons.some((person) => person.name === personObject.name)) {\r\n      if (window.confirm(`${newName} is already added to phonebook! Would you like to change update the phonenumber?`)) {\r\n        personsService\r\n          .update(personObject.id, personObject)\r\n            .then(() => {\r\n              alert('Gone here!');\r\n            });\r\n      } else {\r\n        alert(`${newName} `)\r\n      }\r\n    } else {\r\n      personsService\r\n        .create(personObject)\r\n          .then((person) => {\r\n            setPersons(persons.concat(person));\r\n            setNewName('');\r\n            setNewNumber('');\r\n          });\r\n      setTimeout(() => {\r\n        setNotification(null);\r\n        setError(null);\r\n      }, 5000);\r\n    }\r\n  }\r\n\r\n  const deleteEntity = (name, id) => {\r\n    if (window.confirm(`Do you want to delete ${name} from the phone directory?`)) {\r\n      personsService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n          alert(`Deleted ${name} successfully from the phone directory!`);\r\n          setNewName('');\r\n          setNewNumber('');\r\n        })\r\n        .catch(error => {\r\n          setError(\r\n            `Problems deleting the ${name} from the records.`\r\n          )\r\n          setTimeout(() => {\r\n            setError(null)\r\n          }, 5000)\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (e) =>{\r\n    setNewName(e.target.value);\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  }\r\n\r\n  const handleFilter = (e) => {\r\n    console.log(filter);\r\n    setFilter(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Error error={error} />\r\n      <Filter filter={filter} onChangeHandler={handleFilter} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm \r\n        addPerson={addPerson}\r\n        name={newName}\r\n        number={newNumber}\r\n        nameHandler={handleNameChange}\r\n        numberHandler={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <AllContacts \r\n        persons={persons} \r\n        filter={filter} \r\n        deleteEntity={deleteEntity}\r\n      />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './main.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}